<html>
<body>
    <h1>aoc16.1</h1>
    <canvas id="Canvas1" width="900" height="900" style="border: 1px solid black;">
<script>
var c1 = document.getElementById("Canvas1");
var ct1 = c1.getContext("2d");

var ins=[
"\..\.|.........|..|................................................................./.-............./-....../.",
"............../..--.../...................-....|.......................\../...|..-....\...-|...-...........\..",
".......\......................................|..-\.................-..-......................................",
".......\......................................|..-\.................-..-......................................",
"........\..............|......................\........./..............................|..............||......",
".........|........|......-...........|....../....-.../.....|/.........-..../.../..........................|...",
"..\............................./\............................................................................",
"........|....................\............................./.....|\|..-....../............/..-..........\.....",
"...\.........................\.............|.........../..............-..../.............../-.................",
".||....../..............\.|...............-......................|-..-......../.|.............................",
"...|.|.....-...../.............-............./............\.\/........|.............................\|.-..\.-.",
"............./....................|.......|.....\..\..............................-.../....|..................",
"./......./.|...............\................................................||................................",
"......\......|.................|........../......|\|.......-|..................|.....-.-.||../.\..............",
"................../...............|.....\........-...-.\...||..\...........\............|.........|...........",
"...-........|\|........././/............|...........\.../\...|.......-........\....................-..........",
"..../...........\.........................../......-.|...................................../..\........|......",
"\...............\/......./........-..............|..............--........../....|..-.\...........-........./.",
"..........\........\|.........|\.........../........................../.........|............\..........|.....",
"...........\....|/.|..........-..............-....-|...\..........-.../............./.........................",
"..\..\......../...\\....................../...../.........................|.....\..............|..\...-.......",
"...........................-./...................................-/.\.....\...................\.../...........",
"..-..................|..................-...\.......|../............./|-............/........|.......|..-.....",
"...........-......................-.................|............../.......-./..........|....../..............",
".........|.............././...............|..../..............|.........|.....|..\......................|.....",
"......./-/...................\\..\......|........................\...\....../.....................|...-.......",
".....|.......................|............|...|........|...........-....../..................-...-............",
".../................../......|...........................-............|.............-........./............|..",
".-.........|.............|-...../..............................\................|........................../..",
".........../.........-.......|..-.........................-...............-...-.../...................../.....",
"../.......-../....................-...\...\........................-.............-...\...../.|.........../....",
"............-...............|........................................../...\.|....|........-.....\|...........",
".....................|\............................-..-....../..-|..../..................\................\...",
".\.................-......\...|............................./......./.........-............../................",
".\.........././............../|......\/..............\........................|........................|...-..",
".............../.........|.................................-.......\\.\-..........-......................./-..",
"-.|......................|.............|............................/....................|...........-........",
"../.....-.......|.....-.....\.../\........|.............|.........\./..//\................|.........-.....||..",
".\..\.......|......./............\..\.........../........-.../.|..............-..../....\.........../.\.\.....",
".............|..........|.........|.|...\-......................-..............|.../............./.........|..",
"....|................................................../...........-......-/......................-.....-.....",
"............................./.........-............................./..................\..........\..../.....",
".....|.....................-.........../.......|..................-.......\...|\...|......\.....\...|.........",
"........|............../..../|.|......-................|...../..........|................|...................-",
"....../.....//..........\.-|......|.....|..................../..............|.................................",
"\.-...-....\..................\....................|............||............................../.............",
"............................-|...-...........-.../......-.........\..-...|.|\..........-...............\.|//./",
"....../......././.|...................|\........../.\.../-...\..........\.-..|\../...........\....\..|.....\..",
"...............\.../..../.................\.......-...........\..|..................\\................./.\....",
"............-..........-......................|.......|..|....................-......|......\...........|.....",
"...............\......|.-............./............\.../.............-|........./...............\|\.....|.....",
".\...............|.................|...........\......\................\............\.|...\......./...........",
"\...|..............-..........|...................|....-.....\......../..........................\........|..|",
".........|........./.........|....-........-...................../|./.--.......\........................-..../",
"..........................-.....-...............-/............................--...../........................",
".....................-.\../\..........|.....................\.......\.../..........|.............\............",
"......................../..\.......\...............................................\./........................",
"....|......\..|\.-........../......................\|........\...............\.................|..............",
"............................./.....|..|............-...\.........-...\....|......\.............-..|...........",
"..................-......-.....................-...........-......\...-|-.-................\............|/....",
"...|....../............../..\.......................-....\...|.....\..|..\......./.................-.....-....",
".........-........|........../..-................................./....-.................-....................",
".............................-.......\...............\.....|......-....-.../.................\................",
"...../......|...................|..............-........./.............\...\....|.............\.......|.......",
".......|............./........./......\..../........|...........\................................-............",
"/...|././.......|-.|..........|................................/\.\.......-......-........-........\..........",
"../................./|.-...\........................|........|........|...\|.\........................./.....-",
"................-.........../|..............|.|/...|\...........-.......................-..|../...............",
"./..||........|....../........................|.................................../..............\..|./-......",
"/..-...../......................................\-...........-..................\|................../.........",
".............|.-......................|................-../.................-............../..............-...",  
"-.....-|-...............\..........-...........\.......\........................\.........../..../...../......",

'.-..................../..........|.--.............................-..-....|.\................|....|...\......\\',
   
"......./.-........................................\....|........|...../...........|...\|..-...................",
"\...............|........|.......\|..-..|...-..|-........|........./.\........................................",
"/.|./....|....-...../\..|...............................-.../........./.............-|.........-..../.-..\....",
"../......./...../..|........|../.....\....\.............-.-.................-...\.......|.\...........\.......",
"...-........./.............../..................\.|................/..//..................|.......-..\......-.",
"./.............../.-..\..........|.............-....................-....-..|...........-.....................",
"...........|-..|........................................./\............./-.../.................\........\.....",
"................................/...........................\.....................|.|.........................",
".........|............\........................................-...../..........|........../.../......\...\...",
"../.........|......./..................|........\.../.\.-...-......../../\......../................../........",
".-........./.........|....|.|.............................................|.\............/../.................",
"./.........................................\....../................../.--.....-..../.....|./.-......|.......\.",
".\..................../.-........|.........\............\...........\...............|-../................\....",
"........................|......./.-....-....\.|...................-......-..........|........\.........../...|",
".............-......./.../......................\.......\............/......................................|.",
"............-..........................-..................-.......\--......-.....-.......|..\..-....|........\\",
"...............|.......\......|....................\.....................-.../.|......|................../....",
"---..\-.../.........//....\../....|........\....|-.........-.....|..........-|..............|...../..........|",
"......-.............................-.........................-.........../...../.|.../................-.....|",
".........-.........\..............|....\..............-......\......../......\.......-\........-.............\\",
".................../......................|......|.....\..........................-..-......./....-.....-.....",
"...\.....................-..-....\.......././....\......./...........................\..............\\........",
".................|................./.....................\...../.\.................\.........|...|....|.......",
"./............-........................\..|...-............................./............./..\................",
"-............-..............|.................-..............................-..............................\.",
"................................/.....\........|....-.....||............/.|.............-..|....|....-........",
"/.........|............-./...|././..............\./-............/......../\.\..././../..\..\..............-...",
"..../.....................\.........|......-...........|...\/..........//\.......//....-...|/.....\..\........",
"../............................/...././...-....-............./.|..\..............|...../.........-.....\....|.",
".................................\..../...-.....-.....-....|..\.\...../....../.............../.\..............",
"..................|..|.......-......\.../....../....................................................|.......-.",
"-./.....|...\.....\../.......\..........................\.....|.............|...................|.\.../.../\..",
"..................-.....\.............|...|.........-..-............................../............/..|.......",
".....................\..../.....|......................................\.\............|/....................\.",
".....-..\.........-....\..............-..........................\.....\....................\.........\.....-.",
"\...\|\...../.\............................\........-.........................../.......-............\........",
".............................................-......\.............|..../.......|......../.....................",
"/.........-............./......|................-........-.............|...-..../.....\.\....\................"
]
var dir=0,m=0
var okRL=[".","-"], okUD=[".","|"]
    
display()
var light={x:0,y:0}
    show()
    move(0)
function move(d){    
    if(d==0){
        if(okRight.includes(ins[light.y].charAt(light.x+1)==".")){light.x++}
        else{
         if(ins[light.y].charAt(light.x+1)=="/"){d=3; light.y--}
         if(ins[light.y].charAt(light.x+1)=="\\"){d=1; light.y++}
        }
    }
    
     if(d==1){
        if(okUP.includes(ins[light.y+1].charAt(light.x)==".")){light.y++}
        else{
         if(ins[light.y+1].charAt(light.x)=="/"){d=2; light.x--}
         if(ins[light.y+1].charAt(light.x)=="\\"){d=0; light.x++}
        } 
    }
    
     if(d==2){
        if(okRL.includes(ins[light.y].charAt(light.x-1)==".")){light.x--}
        else{
         if(ins[light.y].charAt(light.x-1)=="/"){d=1; light.y--}
         if(ins[light.y].charAt(light.x-1)=="\\"){d=3; light.y++}
        }
    }
    
    if(d==3){
        if(okUP.includes(ins[light.y-1].charAt(light.x)=="."){light.y--})
        else{
         if(ins[light.y-1].charAt(light.x)=="/"){d=0; light.x++}
         if(ins[light.y+1].charAt(light.x)=="\\"){d=2; light.x--}
            }
    }
    show()
    m++
    if (m<300){move(d)}
}

function show(){    
ct1.fillText("*",8*light.x,25+8*light.y)
}
  
function display(){
   ct1.clearRect(0,20,800,800)
    for(k=0;k<ins.length;k++){
        for(j=0;j<ins[k].length;j++){
       ct1.fillText(ins[k].charAt(j), 8*j, 25+8*k)
      }
    }
}


 
</script>
</body>
</html>

