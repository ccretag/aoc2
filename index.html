<html>
<body>
    <h1>aoc16.3</h1>
    <canvas id="Canvas1" width="900" height="900" style="border: 1px solid black;">
<script>
var c1 = document.getElementById("Canvas1");
var ct1 = c1.getContext("2d");

var ins=[
"\..\.|.........|..|................................................................./.-............./-....../.",
"............../..--.../...................-....|.......................\../...|..-....\...-|...-...........\..",
".......\......................................|..-\.................-..-......................................",
".......\......................................|..-\.................-..-......................................",
"........\..............|......................\........./..............................|..............||......",
".........|........|......-...........|....../....-.../.....|/.........-..../.../..........................|...",
"..\............................./\............................................................................",
"........|....................\............................./.....|\|..-....../............/..-..........\.....",
"...\.........................\.............|.........../..............-..../.............../-.................",
".||....../..............\.|...............-......................|-..-......../.|.............................",
"...|.|.....-...../.............-............./............\.\/........|.............................\|.-..\.-.",
"............./....................|.......|.....\..\..............................-.../....|..................",
"./......./.|...............\................................................||................................",
"......\......|.................|........../......|\|.......-|..................|.....-.-.||../.\..............",
"................../...............|.....\........-...-.\...||..\...........\............|.........|...........",
"...-........|\|........././/............|...........\.../\...|.......-........\....................-..........",
"..../...........\.........................../......-.|...................................../..\........|......",
"\...............\/......./........-..............|..............--........../....|..-.\...........-........./.",
"..........\........\|.........|\.........../........................../.........|............\..........|.....",
"...........\....|/.|..........-..............-....-|...\..........-.../............./.........................",
"..\..\......../...\\....................../...../.........................|.....\..............|..\...-.......",
"...........................-./...................................-/.\.....\...................\.../...........",
"..-..................|..................-...\.......|../............./|-............/........|.......|..-.....",
"...........-......................-.................|............../.......-./..........|....../..............",
".........|.............././...............|..../..............|.........|.....|..\......................|.....",
"......./-/...................\\..\......|........................\...\....../.....................|...-.......",
".....|.......................|............|...|........|...........-....../..................-...-............",
".../................../......|...........................-............|.............-........./............|..",
".-.........|.............|-...../..............................\................|........................../..",
".........../.........-.......|..-.........................-...............-...-.../...................../.....",
"../.......-../....................-...\...\........................-.............-...\...../.|.........../....",
"............-...............|........................................../...\.|....|........-.....\|...........",
".....................|\............................-..-....../..-|..../..................\................\...",
".\.................-......\...|............................./......./.........-............../................",
".\.........././............../|......\/..............\........................|........................|...-..",
".............../.........|.................................-.......\\.\-..........-......................./-..",
"-.|......................|.............|............................/....................|...........-........",
"../.....-.......|.....-.....\.../\........|.............|.........\./..//\................|.........-.....||..",
".\..\.......|......./............\..\.........../........-.../.|..............-..../....\.........../.\.\.....",
".............|..........|.........|.|...\-......................-..............|.../............./.........|..",
"....|................................................../...........-......-/......................-.....-.....",
"............................./.........-............................./..................\..........\..../.....",
".....|.....................-.........../.......|..................-.......\...|\...|......\.....\...|.........",
"........|............../..../|.|......-................|...../..........|................|...................-",
"....../.....//..........\.-|......|.....|..................../..............|.................................",
"\.-...-....\..................\....................|............||............................../.............",
"............................-|...-...........-.../......-.........\..-...|.|\..........-...............\.|//./",
"....../......././.|...................|\........../.\.../-...\..........\.-..|\../...........\....\..|.....\..",
"...............\.../..../.................\.......-...........\..|..................\\................./.\....",
"............-..........-......................|.......|..|....................-......|......\...........|.....",
"...............\......|.-............./............\.../.............-|........./...............\|\.....|.....",
".\...............|.................|...........\......\................\............\.|...\......./...........",
"\...|..............-..........|...................|....-.....\......../..........................\........|..|",
".........|........./.........|....-........-...................../|./.--.......\........................-..../",
"..........................-.....-...............-/............................--...../........................",
".....................-.\../\..........|.....................\.......\.../..........|.............\............",
"......................../..\.......\...............................................\./........................",
"....|......\..|\.-........../......................\|........\...............\.................|..............",
"............................./.....|..|............-...\.........-...\....|......\.............-..|...........",
"..................-......-.....................-...........-......\...-|-.-................\............|/....",
"...|....../............../..\.......................-....\...|.....\..|..\......./.................-.....-....",
".........-........|........../..-................................./....-.................-....................",
".............................-.......\...............\.....|......-....-.../.................\................",
"...../......|...................|..............-........./.............\...\....|.............\.......|.......",
".......|............./........./......\..../........|...........\................................-............",
"/...|././.......|-.|..........|................................/\.\.......-......-........-........\..........",
"../................./|.-...\........................|........|........|...\|.\........................./.....-",
"................-.........../|..............|.|/...|\...........-.......................-..|../...............",
"./..||........|....../........................|.................................../..............\..|./-......",
"/..-...../......................................\-...........-..................\|................../.........",
".............|.-......................|................-../.................-............../..............-...",  
"-.....-|-...............\..........-...........\.......\........................\.........../..../...../......",

'.-..................../..........|.--.............................-..-....|.\................|....|...\......\\',
   
"......./.-........................................\....|........|...../...........|...\|..-...................",
"\...............|........|.......\|..-..|...-..|-........|........./.\........................................",
"/.|./....|....-...../\..|...............................-.../........./.............-|.........-..../.-..\....",
"../......./...../..|........|../.....\....\.............-.-.................-...\.......|.\...........\.......",
"...-........./.............../..................\.|................/..//..................|.......-..\......-.",
"./.............../.-..\..........|.............-....................-....-..|...........-.....................",
"...........|-..|........................................./\............./-.../.................\........\.....",
"................................/...........................\.....................|.|.........................",
".........|............\........................................-...../..........|........../.../......\...\...",
"../.........|......./..................|........\.../.\.-...-......../../\......../................../........",
".-........./.........|....|.|.............................................|.\............/../.................",
"./.........................................\....../................../.--.....-..../.....|./.-......|.......\.",
".\..................../.-........|.........\............\...........\...............|-../................\....",
"........................|......./.-....-....\.|...................-......-..........|........\.........../...|",
".............-......./.../......................\.......\............/......................................|.",
"............-..........................-..................-.......\--......-.....-.......|..\..-....|........\\",
"...............|.......\......|....................\.....................-.../.|......|................../....",
"---..\-.../.........//....\../....|........\....|-.........-.....|..........-|..............|...../..........|",
"......-.............................-.........................-.........../...../.|.../................-.....|",
".........-.........\..............|....\..............-......\......../......\.......-\........-.............\\",
".................../......................|......|.....\..........................-..-......./....-.....-.....",
"...\.....................-..-....\.......././....\......./...........................\..............\\........",
".................|................./.....................\...../.\.................\.........|...|....|.......",
"./............-........................\..|...-............................./............./..\................",
"-............-..............|.................-..............................-..............................\.",
"................................/.....\........|....-.....||............/.|.............-..|....|....-........",
"/.........|............-./...|././..............\./-............/......../\.\..././../..\..\..............-...",
"..../.....................\.........|......-...........|...\/..........//\.......//....-...|/.....\..\........",
"../............................/...././...-....-............./.|..\..............|...../.........-.....\....|.",
".................................\..../...-.....-.....-....|..\.\...../....../.............../.\..............",
"..................|..|.......-......\.../....../....................................................|.......-.",
"-./.....|...\.....\../.......\..........................\.....|.............|...................|.\.../.../\..",
"..................-.....\.............|...|.........-..-............................../............/..|.......",
".....................\..../.....|......................................\.\............|/....................\.",
".....-..\.........-....\..............-..........................\.....\....................\.........\.....-.",
"\...\|\...../.\............................\........-.........................../.......-............\........",
".............................................-......\.............|..../.......|......../.....................",
"/.........-............./......|................-........-.............|...-..../.....\.\....\................"
]
var dir=0,m=0
var okRL=[".","-"], okUD=[".","|"]
    
display()
var n={x:0,y:0}
    show()
    move(0,0,0)
function move(d,a,b){    
    if(d==0){
        n.x=a+1,n.y=b
        if(okRight.includes(ins[n.y].charAt(n.x)) ){n.x++}
        else{
         if(ins[n.y].charAt(n.x)=="/"){d=3; n.y--}
         if(ins[n.y].charAt(n.x)=="\\"){d=1; n.y++}
        }
    }
    
     if(d==1){
         n.x=a,n.y=b+1
        if(okUP.includes(ins[n.y].charAt(n.x)) ){n.y++}
        else{
         if(ins[n.y].charAt(n.x)=="/"){d=2; n.x--}
         if(ins[n.y].charAt(n.x)=="\\"){d=0; n.x++}
        } 
    }
    
     if(d==2){
        n.x=a-1,n.y=b
        if(okRL.includes(ins[n.y].charAt(n.x)) ){n.x--}
        else{
         if(ins[n.y].charAt(n.x)=="/"){d=1; n.y++}
         if(ins[n.y].charAt(n.x)=="\\"){d=3; n.y--}
        }
    }
    
    if(d==3){
        if(okUP.includes(ins[n.y].charAt(n.x)) ){n.y--}
        else{
         if(ins[n.y].charAt(n.x)=="/"){d=0; n.x++}
         if(ins[n.y].charAt(n.x)=="\\"){d=2; n.x--}
            }
    }
    
    show()
    m++
    if (m<300){move(d,n.x,n.y)}
}

function show(){    
ct1.fillText("*",8*light.x,25+8*light.y)
}
  
function display(){
   ct1.clearRect(0,20,800,800)
    for(k=0;k<ins.length;k++){
        for(j=0;j<ins[k].length;j++){
       ct1.fillText(ins[k].charAt(j), 8*j, 25+8*k)
      }
    }
}


 
</script>
</body>
</html>

